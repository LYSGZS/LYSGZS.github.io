<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>刘杨史工作室 - 密码验证</title>
    <style>
        /* 原有样式保持不变 */
        body {
            margin: 0;
            padding: 0;
            background: #f0f2f5;
            font-family: "Microsoft YaHei", sans-serif;
        }
        /* 省略了其他样式以保持简洁 */
        
        /* 新增聊天框样式 */
        #chatBox {
            border: 1px solid #ccc;
            width: 300px;
            margin-top: 20px;
            display: none; /* 默认隐藏，直到用户通过验证 */
        }
        #chatMessages {
            height: 200px;
            overflow-y: scroll;
            padding: 10px;
            background-color: #f9f9f9;
        }
        #chatInput {
            width: calc(100% - 22px);
            padding: 10px;
            border: none;
            border-top: 1px solid #ccc;
        }
    </style>
</head>
<body>

<div id="securityPanel">
    <!-- 安全验证面板保持不变 -->
</div>

<!-- 解锁后的内容 -->
<div id="mainContent" style="display:none; padding:20px;">
    <h1>刘杨史工作室 - 多格漫画</h1>
    <p>欢迎回来！您已通过密码验证。</p>

    <section class="comic-container" role="region" aria-label="多格漫画展示">
        <img src="/IMG_4697.jpeg" alt="漫画场景1：角色A在森林中发现神秘符号" class="comic-img" />
        <img src="/IMG_4763.jpeg" alt="漫画场景2：角色B与角色A讨论符号含义" class="comic-img" />
        <img src="/IMG_4764.jpeg" alt="漫画场景3：角色C加入团队并提出新线索" class="comic-img" />
        <img src="/IMG_4765.jpeg" alt="漫画场景4：团队发现隐藏的密室入口" class="comic-img" />
        <img src="/IMG_4809.jpeg" alt="漫画场景5：密室中出现危险陷阱" class="comic-img" />
        <img src="/IMG_4842.jpeg" alt="漫画场景6：团队成功逃脱并庆祝胜利" class="comic-img" />
    </section>
    <!-- 漫画内容将在这里显示 -->

    <!-- 聊天框 -->
    <div id="chatBox">
        <div id="chatMessages"></div>
        <input type="text" id="chatInput" placeholder="输入消息..." onkeypress="if(event.key === 'Enter') sendMessage()">
        <button onclick="sendMessage()">发送</button>
    </div>
</div>

<!-- 错误对话框保持不变 -->

<script>
    // 预设密码和表单提交处理保持不变

    // 发送消息函数
    function sendMessage() {
        const input = document.getElementById('chatInput');
        const message = input.value.trim();
        if (message.length > 0) {
            const chatMessages = document.getElementById('chatMessages');
            const newMessage = document.createElement('p');
            newMessage.textContent = message;
            chatMessages.appendChild(newMessage);
            input.value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    }

    // 表单提交处理增加显示聊天框逻辑
    document.getElementById('passwordForm').addEventListener('submit', function(e) {
        e.preventDefault(); 
        const input = document.getElementById('passwordInput');
        const password = input.value;

        if (password === CORRECT_PASSWORD) {
            document.getElementById('securityPanel').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            document.getElementById('chatBox').style.display = 'block'; // 显示聊天框
        } else {
            input.value = '';
            showErrorMessage();
        }
    });

    // 其他JavaScript保持不变
</script>
</body>
</html>
